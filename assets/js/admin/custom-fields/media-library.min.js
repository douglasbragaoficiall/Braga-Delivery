window.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("myd-cf-chose-media"),d=document.getElementById("myd-cf-remove-media"),n=document.getElementById("myd-cf-image-preview"),i=document.getElementById("myd-custom-field-image-id");let m;d&&d.addEventListener("click",e=>{e.preventDefault(),n&&(n.src="",n.classList.add("myd-admin-hidden")),i&&(i.value="")}),t&&t.addEventListener("click",e=>{e.preventDefault(),m?m.open():((m=wp.media({title:"Choose the product image",multiple:!1})).on("select",e=>{let t=m.state().get("selection").first().toJSON();n&&(n.src=t.url,n.classList.remove("myd-admin-hidden")),i&&(i.value=t.id)}),m.open())})});